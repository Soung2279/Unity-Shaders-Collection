Games 101 Project 100Person
===========================

## 0.整体流程

- 应用阶段

    准备基本信息 >>> 设置渲染状态 >>> 准备渲染参数 >>> **调用DrawCall**

> 基本场景数据： <br>物体Transform、Rotation、Scale；<br>网格Vertex、UV；<br>光源Type、Angel、Power；<br>相机Culling、FOV、PixelSize等

- 几何阶段

    顶点着色与处理 (Vertex) >>> 投影 >>> 裁剪 >>> 屏幕映射

> 顶点空间>>>世界空间>>>视图空间>>>投影空间>>>视口坐标

> 投影：xyz除以w，正交w恒为1所以xyz不变，两物体大小不变；透视w遵循近大远小所以xyz随透视距离变化

> 裁剪：OpenGL：**xyz维度**(-1,1)，屏幕原点左下方；<br>D3D：**xy维度**(-1,1)，**z维度**(0,1)，屏幕原点左上方

- 光栅化阶段

    计算图元边界（三角形设置） >>> 寻找被三角形网格所覆盖的所有像素（三角形遍历） >>> **抗锯齿**

> 抗锯齿：SSAA：放大渲染分辨率，下采样（费）<br>MSAA：三角形采样计算<br>FXAA、TAA不在此阶段 (在后处理阶段)

- 逐片元操作

    片元着色 (Fragment) >>> 颜色混合 (Blend) >>> 目标缓冲

> 颜色混合阶段会做：透明度裁剪 AlphaClip >>> 深度测试或模板测试 ZTest/Stencil Test >>> 

- 后处理


## 1.MVP矩阵

### 模型Model | 观察View | 投影Projection

M: 模型空间 到 世界空间

- 1.缩放 >>> 2.旋转 >>> 3.平移    **（顺序不能变更）**

V: 世界空间 到 视觉空间（摄像机）

- 1.平移 >>> 2.旋转 >>> 3.Z值取反(Unity左手坐标系)  将摄像机空间原点与世界空间重合，逆变换

P: 视觉空间 到 裁剪空间（屏幕前）

* 为投影Projection做准备
* 判断顶点可见性

- 透视投影与正交投影 